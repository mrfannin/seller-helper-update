(function(){"use strict";addEventListener("message",a=>{a.data.command==="process"&&o(a.data.shData,a.data.userData,a.data.userOptions)});function o(a,s,t){const n=[];s.forEach(d=>{const c=a.find(e=>e.sku===d.sku);if(c!==void 0){let e={sku:c.sku,quantity:c.quantity,cost:c.cost};t.priceToggle==="Yes"&&(e.price=e.cost*parseFloat("1."+t.pricePercentage)),t.enabledToggle==="Yes"&&(e.enabled=e.quantity<t.enabledCutoff?0:1),n.push(e)}else{let e={sku:d.sku,quantity:0,cost:d.cost};t.priceToggle==="Yes"&&(e.price=e.cost*parseFloat("1."+t.pricePercentage)),t.enabledToggle==="Yes"&&(e.enabled=e.quantity<t.enabledCutoff?0:1),n.push(e)}}),postMessage(n)}})();
